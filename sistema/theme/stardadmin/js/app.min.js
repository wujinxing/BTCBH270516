$.throttle_delay=350;$.menu_speed=235;$.navbar_height=49;$.root_=$("body");$.left_panel=$("#left-panel");$.shortcut_dropdown=$("#shortcut");$.bread_crumb=$("#ribbon ol.breadcrumb");$.device=null;$.navAsAjax=!0;$.enableJarvisWidgets=!1;$.enableMobileWidgets=!1;var ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());ismobile?($.root_.addClass("mobile-detected"),$.device="mobile"):($.root_.addClass("desktop-detected"),$.device="desktop"); $(document).ready(function(){function a(){$.shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc");$.root_.removeClass("shortcut-on")}$.datepicker.regional.es={closeText:"Cerrar",prevText:"<Ant",nextText:"Sig>",currentText:"Hoy",monthNames:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),monthNamesShort:"Ene Feb Mar Abr May Jun Jul Ago Sep Oct Nov Dic".split(" "),dayNames:"Domingo Lunes Martes Mi\u00e9rcoles Jueves Viernes S\u00e1bado".split(" "), dayNamesShort:"Dom Lun Mar Mi\u00e9 Juv Vie S\u00e1b".split(" "),dayNamesMin:"Do Lu Ma Mi Ju Vi S\u00e1".split(" "),weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};$.datepicker.setDefaults($.datepicker.regional.es);$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip();nav_page_height();$("nav ul").jarvismenu({accordion:!0,speed:$.menu_speed,closedSign:'<em class="fa fa-expand-o"></em>',openedSign:'<em class="fa fa-collapse-o"></em>'});simpleScript.removeAttr.click({container:"#nav_modulos", typeElement:"a"});$(".minifyme").click(function(a){$("body").toggleClass("minified");$(this).effect("highlight",{},500);a.preventDefault()});$("#hide-menu >:first-child > a").click(function(a){$("body").toggleClass("hidden-menu");a.preventDefault()});$("#show-shortcut").click(function(b){$.shortcut_dropdown.is(":visible")?a():($.shortcut_dropdown.animate({height:"show"},200,"easeOutCirc"),$.root_.addClass("shortcut-on"));b.preventDefault()});$("#search-mobile").click(function(){$.root_.addClass("search-mobile")}); $("#cancel-search-js").click(function(){$.root_.removeClass("search-mobile")});$("#activity").click(function(a){var c=$(this);c.find(".badge").hasClass("bg-color-red")&&(c.find(".badge").removeClassPrefix("bg-color-"),c.find(".badge").text("0"));c.next(".ajax-dropdown").is(":visible")?(c.next(".ajax-dropdown").fadeOut(150),c.removeClass("active")):(c.next(".ajax-dropdown").fadeIn(150),c.addClass("active"));c.next(".ajax-dropdown").find(".btn-group > .active > input").attr("id");a.preventDefault()}); $('input[name="activity"]').change(function(){url=$(this).attr("id");container=$(".ajax-notifications");loadURL(url,container)});$(document).mouseup(function(a){$(".ajax-dropdown").is(a.target)||0!==$(".ajax-dropdown").has(a.target).length||($(".ajax-dropdown").fadeOut(150),$(".ajax-dropdown").prev().removeClass("active"))});$("button[data-loading-text]").on("click",function(){var a=$(this);a.button("loading");setTimeout(function(){a.button("reset")},3E3)});$this=$("#activity > .badge");0<parseInt($this.text())&& $this.addClass("bg-color-red bounceIn animated");$("#refresh").click(function(a){var c=$(this);$.widresetMSG=c.data("reset-msg");$.SmartMessageBox({title:"<i class='fa fa-refresh' style='color:green'></i> Clear Local Storage",content:$.widresetMSG||"Would you like to RESET all your saved widgets and clear LocalStorage?",buttons:"[No][Si]"},function(a){"Si"==a&&localStorage&&(localStorage.clear(),location.reload())});a.preventDefault()});$("#logout a").click(function(a){var c=$(this);$.loginURL=c.attr("href"); $.logoutMSG=c.data("logout-msg");$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'></i> Desea salir: <span class='txt-color-orangeDark'><strong>"+$("#cont-nameuser").text()+"</strong></span> ?",content:$.logoutMSG||"You can improve your security further after logging out by closing this opened browser",buttons:"[No][Si]"},function(a){"Si"==a&&($.root_.addClass("animated fadeOutUp"),index.postLogout())});a.preventDefault()});$.shortcut_dropdown.find("a").click(function(b){b.preventDefault(); setTimeout(a,300)});$(document).mouseup(function(b){$.shortcut_dropdown.is(b.target)||0!==$.shortcut_dropdown.has(b.target).length||a()})}); (function(a,b,c){function d(){g=b.setTimeout(function(){e.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,"resize-special-event");c===e.w&&d===e.h||b.trigger("resize",[e.w=c,e.h=d])});d()},f.delay)}var e=a([]),f=a.resize=a.extend(a.resize,{}),g;f.delay=a.throttle_delay;f.throttleWindow=!0;a.event.special.resize={setup:function(){if(!f.throttleWindow&&this.setTimeout)return!1;var b=a(this);e=e.add(b);a.data(this,"resize-special-event",{w:b.width(),h:b.height()});1===e.length&& d()},teardown:function(){if(!f.throttleWindow&&this.setTimeout)return!1;var b=a(this);e=e.not(b);b.removeData("resize-special-event");e.length||clearTimeout(g)},add:function(b){function d(b,f,g){var h=a(this),m=a.data(this,"resize-special-event");m.w=f!==c?f:h.width();m.h=g!==c?g:h.height();e.apply(this,arguments)}if(!f.throttleWindow&&this.setTimeout)return!1;var e;if(a.isFunction(b))return e=b,d;e=b.handler;b.handler=d}}})(jQuery,this); function nav_page_height(){var a=$("#main").height(),b=$(window).height()-$.navbar_height;a>b?($.left_panel.css("min-height",a+"px"),$.root_.css("min-height",a+$.navbar_height+"px")):($.left_panel.css("min-height",b+"px"),$.root_.css("min-height",b+"px"))}$("#main").resize(function(){nav_page_height();check_if_mobile_width()});$("nav").resize(function(){nav_page_height()}); function check_if_mobile_width(){979>$(window).width()?$.root_.addClass("mobile-view-activated"):$.root_.hasClass("mobile-view-activated")&&$.root_.removeClass("mobile-view-activated")}var ie=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:void 0}(); $.fn.extend({jarvismenu:function(a){var b=$.extend({accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"},a),c=$(this);c.find("li").each(function(){0!=$(this).find("ul").size()&&($(this).find("a:first").append("<b class='collapse-sign'>"+b.closedSign+"</b>"),"#"==$(this).find("a:first").attr("href")&&$(this).find("a:first").click(function(){return!1}))});c.find("li.active").each(function(){$(this).parents("ul").slideDown(b.speed);$(this).parents("ul").parent("li").find("b:first").html(b.openedSign); $(this).parents("ul").parent("li").addClass("open")});c.find("li a").click(function(){0!=$(this).parent().find("ul").size()&&(b.accordion&&!$(this).parent().find("ul").is(":visible")&&(parents=$(this).parent().parents("ul"),visible=c.find("ul:visible"),visible.each(function(a){var c=!0;parents.each(function(b){if(parents[b]==visible[a])return c=!1});c&&$(this).parent().find("ul")!=visible[a]&&$(visible[a]).slideUp(b.speed,function(){$(this).parent("li").find("b:first").html(b.closedSign);$(this).parent("li").removeClass("open")})})), $(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")?$(this).parent().find("ul:first").slideUp(b.speed,function(){$(this).parent("li").removeClass("open");$(this).parent("li").find("b:first").delay(b.speed).html(b.closedSign)}):$(this).parent().find("ul:first").slideDown(b.speed,function(){$(this).parent("li").addClass("open");$(this).parent("li").find("b:first").delay(b.speed).html(b.openedSign)}))})}});jQuery.fn.doesExist=function(){return 0<jQuery(this).length}; function launchFullscreen(a){$.root_.hasClass("full-screen")?($.root_.removeClass("full-screen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):($.root_.addClass("full-screen"),a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen())} function runAllForms(){$.fn.slider&&$(".slider").slider();$.fn.select2&&$(".select2").each(function(){var a=$(this),b=a.attr("data-select-width")||"100%";a.select2({allowClear:!0,width:b})});$.fn.mask&&$("[data-mask]").each(function(){var a=$(this),b=a.attr("data-mask")||"error...",c=a.attr("data-mask-placeholder")||"X";a.mask(b,{placeholder:c})});$.fn.autocomplete&&$("[data-autocomplete]").each(function(){var a=$(this),b=a.data("autocomplete")||"The Quick Brown Fox Jumps Over Three Lazy Dogs".split(" "); a.autocomplete({source:b})});$.fn.datepicker&&$(".datepicker").each(function(){var a=$(this),b=a.attr("data-dateformat")||"dd.mm.yy";a.datepicker({dateFormat:b,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>'})});$("button[data-loading-text]").on("click",function(){var a=$(this);a.button("loading");setTimeout(function(){a.button("reset")},3E3)})} function runAllCharts(){$.fn.sparkline&&$(".sparkline").each(function(){var a=$(this),b=a.data("sparkline-type")||"bar";if("bar"==b){var c=a.data("sparkline-bar-color")||a.css("color")||"#0000f0",d=a.data("sparkline-height")||"26px",e=a.data("sparkline-barwidth")||5,f=a.data("sparkline-barspacing")||2,g=a.data("sparkline-negbar-color")||"#A90329",h=a.data("sparkline-barstacked-color")||"#A90329 #0099c6 #98AA56 #da532c #4490B1 #6E9461 #990099 #B4CAD3".split(" ");a.sparkline("html",{type:"bar",barColor:c, type:b,height:d,barWidth:e,barSpacing:f,stackedBarColor:h,negBarColor:g,zeroAxis:"false"})}if("line"==b){var d=a.data("sparkline-height")||"20px",c=a.data("sparkline-width")||"90px",f=a.data("sparkline-line-color")||a.css("color")||"#0000f0",g=a.data("sparkline-line-width")||1,h=a.data("fill-color")||"#c0d0f0",e=a.data("sparkline-spot-color")||"#f08000",n=a.data("sparkline-minspot-color")||"#ed1c24",p=a.data("sparkline-maxspot-color")||"#f08000",k=a.data("sparkline-highlightspot-color")||"#50f050", q=a.data("sparkline-highlightline-color")||"f02020",l=a.data("sparkline-spotradius")||1.5;thisChartMinYRange=a.data("sparkline-min-y")||"undefined";thisChartMaxYRange=a.data("sparkline-max-y")||"undefined";thisChartMinXRange=a.data("sparkline-min-x")||"undefined";thisChartMaxXRange=a.data("sparkline-max-x")||"undefined";thisMinNormValue=a.data("min-val")||"undefined";thisMaxNormValue=a.data("max-val")||"undefined";thisNormColor=a.data("norm-color")||"#c0c0c0";thisDrawNormalOnTop=a.data("draw-normal")|| !1;a.sparkline("html",{type:"line",width:c,height:d,lineWidth:g,lineColor:f,fillColor:h,spotColor:e,minSpotColor:n,maxSpotColor:p,highlightSpotColor:k,highlightLineColor:q,spotRadius:l,chartRangeMin:thisChartMinYRange,chartRangeMax:thisChartMaxYRange,chartRangeMinX:thisChartMinXRange,chartRangeMaxX:thisChartMaxXRange,normalRangeMin:thisMinNormValue,normalRangeMax:thisMaxNormValue,normalRangeColor:thisNormColor,drawNormalOnTop:thisDrawNormalOnTop})}"pie"==b&&(d=a.data("sparkline-piecolor")||"#B4CAD3 #4490B1 #98AA56 #da532c #6E9461 #0099c6 #990099 #717D8A".split(" "), c=a.data("sparkline-piesize")||90,e=a.data("border-color")||"#45494C",f=a.data("sparkline-offset")||0,a.sparkline("html",{type:"pie",width:c,height:c,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:d,offset:0,borderWidth:1,offset:f,borderColor:e}));if("box"==b){var d=a.data("sparkline-width")||"auto",c=a.data("sparkline-height")||"auto",e=a.data("sparkline-boxraw")||!1,f=a.data("sparkline-targetval")||"undefined",g=a.data("sparkline-min")||"undefined",h= a.data("sparkline-max")||"undefined",n=a.data("sparkline-showoutlier")||!0,p=a.data("sparkline-outlier-iqr")||1.5,k=a.data("sparkline-spotradius")||1.5,q=a.css("color")||"#000000",l=a.data("fill-color")||"#c0d0f0",r=a.data("sparkline-whis-color")||"#000000",m=a.data("sparkline-outline-color")||"#303030",w=a.data("sparkline-outlinefill-color")||"#f0f0f0",t=a.data("sparkline-outlinemedian-color")||"#f00000",u=a.data("sparkline-outlinetarget-color")||"#40a020";a.sparkline("html",{type:"box",width:d, height:c,raw:e,target:f,minValue:g,maxValue:h,showOutliers:n,outlierIQR:p,spotRadius:k,boxLineColor:q,boxFillColor:l,whiskerColor:r,outlierLineColor:m,outlierFillColor:w,medianColor:t,targetColor:u})}"bullet"==b&&(d=a.data("sparkline-height")||"auto",c=a.data("sparkline-width")||2,e=a.data("sparkline-bullet-color")||"#ed1c24",f=a.data("sparkline-performance-color")||"#3030f0",g=a.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"],a.sparkline("html",{type:"bullet",height:d,targetWidth:c, targetColor:e,performanceColor:f,rangeColors:g}));"discrete"==b&&(d=a.data("sparkline-height")||26,c=a.data("sparkline-width")||50,e=a.css("color"),f=a.data("sparkline-line-height")||5,g=a.data("sparkline-threshold")||"undefined",h=a.data("sparkline-threshold-color")||"#ed1c24",a.sparkline("html",{type:"discrete",width:c,height:d,lineColor:e,lineHeight:f,thresholdValue:g,thresholdColor:h}));"tristate"==b&&(d=a.data("sparkline-height")||26,a.data("sparkline-posbar-color"),c=a.data("sparkline-negbar-color")|| "#f04040",e=a.data("sparkline-zerobar-color")||"#909090",f=a.data("sparkline-barwidth")||5,g=a.data("sparkline-barspacing")||2,h=a.data("sparkline-zeroaxis")||!1,a.sparkline("html",{type:"tristate",height:d,posBarColor:v,negBarColor:c,zeroBarColor:e,barWidth:f,barSpacing:g,zeroAxis:h}));if("compositebar"==b){var d=a.data("sparkline-height")||"20px",c=a.data("sparkline-width")||"100%",e=a.data("sparkline-barwidth")||3,g=a.data("sparkline-line-width")||1,f=a.data("sparkline-color-top")||"#ed1c24",v= a.data("sparkline-color-bottom")||"#333333";a.sparkline(a.data("sparkline-bar-val"),{type:"bar",width:c,height:d,barColor:v,barWidth:e});a.sparkline(a.data("sparkline-line-val"),{width:c,height:d,lineColor:f,lineWidth:g,composite:!0,fillColor:!1})}if("compositeline"==b){var d=a.data("sparkline-height")||"20px",c=a.data("sparkline-width")||"90px",b=a.data("sparkline-bar-val"),v=a.data("sparkline-bar-val-spots-top")||null,f=a.data("sparkline-bar-val-spots-bottom")||null,g=a.data("sparkline-line-width-top")|| 1,h=a.data("sparkline-line-width-bottom")||1,n=a.data("sparkline-color-top")||"#333333",p=a.data("sparkline-color-bottom")||"#ed1c24",k=a.data("sparkline-spotradius-top")||1.5,q=a.data("sparkline-spotradius-bottom")||k,e=a.data("sparkline-spot-color")||"#f08000",l=a.data("sparkline-minspot-color-top")||"#ed1c24",r=a.data("sparkline-maxspot-color-top")||"#f08000",m=a.data("sparkline-minspot-color-bottom")||l,w=a.data("sparkline-maxspot-color-bottom")||r,t=a.data("sparkline-highlightspot-color-top")|| "#50f050",u=a.data("sparkline-highlightline-color-top")||"#f02020",x=a.data("sparkline-highlightspot-color-bottom")||t,y=a.data("sparkline-highlightline-color-bottom")||u,z=a.data("sparkline-fillcolor-top")||"transparent",A=a.data("sparkline-fillcolor-bottom")||"transparent";a.sparkline(b,{type:"line",spotRadius:k,spotColor:e,minSpotColor:l,maxSpotColor:r,highlightSpotColor:t,highlightLineColor:u,valueSpots:v,lineWidth:g,width:c,height:d,lineColor:n,fillColor:z});a.sparkline(a.data("sparkline-line-val"), {type:"line",spotRadius:q,spotColor:e,minSpotColor:m,maxSpotColor:w,highlightSpotColor:x,highlightLineColor:y,valueSpots:f,lineWidth:h,width:c,height:d,lineColor:p,composite:!0,fillColor:A})}});$.fn.easyPieChart&&$(".easy-pie-chart").each(function(){var a=$(this),b=a.css("color")||a.data("pie-color"),c=a.data("pie-track-color")||"#eeeeee",d=parseInt(a.data("pie-size"))||25;a.easyPieChart({barColor:b,trackColor:c,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(d/8.5),animate:1500,rotate:-90,size:d, onStep:function(a){this.$el.find("span").text(~~a)}})})} function setup_widgets_desktop(){$.fn.jarvisWidgets&&$.enableJarvisWidgets&&$("#cont-main").jarvisWidgets({grid:"div",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteClass:"fa fa-times",deleteSpeed:200, onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-resize-full | fa fa-resize-small",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%", opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Eliminar widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})} function setup_widgets_mobile(){$.enableMobileWidgets&&$.enableJarvisWidgets&&setup_widgets_desktop()}var gMapsLoaded=!1;window.gMapsCallback=function(){gMapsLoaded=!0;$(window).trigger("gMapsLoaded")};var jsArray={};function loadScript(a,b){if(jsArray[a])b&&b();else{jsArray[a]=!0;var c=document.getElementsByTagName("body")[0],d=document.createElement("script");d.type="text/javascript";d.src=a;d.onload=b;c.appendChild(d)}} function pageSetUp(){"desktop"===$.device?($("[rel=tooltip]").tooltip(),$("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"})):($("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"}),setup_widgets_mobile());nav_page_height();runAllForms()}$("body").on("click",function(a){$('[rel="popover"]').each(function(){$(this).is(a.target)||0!==$(this).has(a.target).length||0!==$(".popover").has(a.target).length||$(this).popover("hide")})});