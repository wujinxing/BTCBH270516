var ubigeo_=function(){var g,c,d,f,e,h;d=c=g=0;h=e=f="";this.publico={};this.publico.getIdPais=function(){return g};this.publico.getIdDepartamento=function(){return c};this.publico.getIdUbigeo=function(){return d};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.UBIG,label:$(a).attr("title"),fnCallback:function(){h=$(a).data("sitemap");ubigeo.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"configuracion/ubigeo/",data:"&_siteMap="+ h,fnCallback:function(a){$("#"+diccionario.tabs.UBIG+"_CONTAINER").html(a);ubigeo.getGridPais()}})};this.publico.getGridPais=function(){var a=$("#"+diccionario.tabs.UBIG+"gridPais").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:50,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"1%",bSortable:!1},{sTitle:lang.generico.FLAG,sWidth:"3%",bSortable:!1},{sTitle:lang.generico.PAIS,sWidth:"20%"},{sTitle:lang.generico.CONTINENTE, sWidth:"15%"},{sTitle:lang.generico.ISO2,sWidth:"5%",sClass:"center",bSortable:!1},{sTitle:lang.generico.ISO3,sWidth:"5%",sClass:"center",bSortable:!1},{sTitle:lang.generico.MONEDA,sWidth:"10%",sClass:"center",bSortable:!1},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center",bSortable:!1},{sTitle:lang.generico.ACCIONES,sWidth:"10%",sClass:"center",bSortable:!1}],aaSorting:[[1,"asc"]],sScrollY:"130px",sAjaxSource:"configuracion/ubigeo/getGridPais",fnDrawCallback:function(){$("#"+diccionario.tabs.UBIG+ "gridPais_filter").find("input").attr("placeholder",lang.busqueda.CATPR1).css("width","250px");simpleScript.enterSearch("#"+diccionario.tabs.UBIG+"gridPais",a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.UBIG+"pais",typeElement:"button"})}});setup_widgets_desktop()};this.publico.getGridDepartamento=function(a,b){!1!==simpleScript.getParam(a)&&(ubigeo.resetPais(),g=simpleScript.getParam(a),f=simpleScript.getParam(b),0==f&&(f=""));var k=$("#"+diccionario.tabs.UBIG+"gridDepartamento").dataTable({bProcessing:!0, bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:25,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"1%",bSortable:!1},{sTitle:lang.generico.CODIGO,sWidth:"10%"},{sTitle:lang.generico.DEPARTAMENTO,sWidth:"20%"},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center",bSortable:!1},{sTitle:lang.generico.ACCIONES,sWidth:"10%",sClass:"center",bSortable:!1}],aaSorting:[[1,"asc"]],sScrollY:"130px",sAjaxSource:"configuracion/ubigeo/getGridDepartamento", fnServerParams:function(a){a.push({name:"_idPais",value:g})},fnDrawCallback:function(){$("#"+diccionario.tabs.UBIG+"gridDepartamento_filter").find("input").attr("placeholder",lang.busqueda.BUSCAR).css("width","150px");simpleScript.enterSearch("#"+diccionario.tabs.UBIG+"gridDepartamento",k);var a=lang.generico.DEPARTAMENTODE+" "+f;$("#widget_"+diccionario.tabs.UBIG+"departamento header h2").html(a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.UBIG+"departamento",typeElement:"button"})}}); setup_widgets_desktop()};this.publico.getGridUbigeo=function(a,b){!1!==simpleScript.getParam(a)&&(ubigeo.resetDepartamento(),c=simpleScript.getParam(a),e=simpleScript.getParam(b),0==e&&(e=""));var k=$("#"+diccionario.tabs.UBIG+"gridUbigeo").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:100,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"1%",bSortable:!1},{sTitle:lang.generico.CODIGO,sWidth:"10%"},{sTitle:lang.generico.CIUDAD, sWidth:"20%"},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center"},{sTitle:lang.generico.ACCIONES,sWidth:"10%",sClass:"center",bSortable:!1}],aaSorting:[[1,"asc"]],sScrollY:"130px",sAjaxSource:"configuracion/ubigeo/getGridUbigeo",fnServerParams:function(a){a.push({name:"_idDepartamento",value:c})},fnDrawCallback:function(){$("#"+diccionario.tabs.UBIG+"gridUbigeo_filter").find("input").attr("placeholder",lang.busqueda.BUSCAR).css("width","150px");simpleScript.enterSearch("#"+diccionario.tabs.UBIG+ "gridUbigeo",k);var a=lang.generico.DISTRITODE+" "+e;$("#widget_"+diccionario.tabs.UBIG+"ubigeo header h2").html(a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.UBIG+"ubigeo",typeElement:"button"})}});setup_widgets_desktop()};this.publico.getFormNewUbigeo=function(){if(0==c)return simpleScript.notify.warning({content:lang.mensajes.MSG_31}),!1;simpleAjax.send({dataType:"html",root:"configuracion/ubigeo/getFormNewUbigeo",data:"&_idDepartamento="+c,fnCallback:function(a){$("#cont-modal").append(a); $("#"+diccionario.tabs.UBIG+"formNewUbigeo").modal("show")}})};this.publico.getFormEditUbigeo=function(a,b){d=b;simpleAjax.send({element:a,dataType:"html",root:"configuracion/ubigeo/getFormEditUbigeo",data:"&_idUbigeo="+d+"&_idDepartamento="+c,fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.UBIG+"formEditUbigeo").modal("show")}})};this.publico.postNewUbigeo=function(){simpleAjax.send({element:"#"+diccionario.tabs.UBIG+"btnGrUbigeo",root:"configuracion/ubigeo/postNewUbigeo", form:"#"+diccionario.tabs.UBIG+"formNewUbigeo",data:"&_idDepartamento="+c,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:lang.mensajes.MSG_4}):simpleScript.notify.ok({content:lang.mensajes.MSG_3,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.UBIG+"gridUbigeo")}})}})};this.publico.postEditUbigeo=function(){simpleAjax.send({element:"#"+diccionario.tabs.UBIG+"btnEdUbigeo",root:"configuracion/ubigeo/postEditUbigeo", form:"#"+diccionario.tabs.UBIG+"formEditUbigeo",data:"&_idUbigeo="+d,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:lang.mensajes.MSG_4}):simpleScript.notify.ok({content:lang.mensajes.MSG_19,callback:function(){simpleScript.closeModal("#"+diccionario.tabs.UBIG+"formEditUbigeo");simpleScript.reloadGrid("#"+diccionario.tabs.UBIG+"gridUbigeo")}})}})};this.publico.postDeleteUbigeo=function(a,b){simpleScript.notify.confirm({content:lang.mensajes.MSG_5, callbackSI:function(){simpleAjax.send({element:a,gifProcess:!0,data:"&_idUbigeo="+b,root:"configuracion/ubigeo/postDeleteUbigeo",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_6,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.UBIG+"gridUbigeo")}})}})}})};this.publico.postDesactivar=function(a,b){simpleAjax.send({element:a,root:"configuracion/ubigeo/postDesactivar",data:"&_idUbigeo="+b,fnCallback:function(a){isNaN(a.result)|| 1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_24,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.UBIG+"gridUbigeo")}})}})};this.publico.postActivar=function(a,b){simpleAjax.send({element:a,root:"configuracion/ubigeo/postActivar",data:"&_idUbigeo="+b,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_25,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.UBIG+"gridUbigeo")}})}})}; this.publico.resetPais=function(){$("#"+diccionario.tabs.UBIG+"gridDepartamento").html("");$("#"+diccionario.tabs.UBIG+"gridUbigeo").html("");$("#"+diccionario.tabs.UBIG+"tollDepartamento button").hide();$("#"+diccionario.tabs.UBIG+"tollUbigeo button").hide();d=c=0;e="";$("#widget_"+diccionario.tabs.UBIG+"departamento header h2").html(lang.generico.DEPARTAMENTO.toUpperCase());$("#widget_"+diccionario.tabs.UBIG+"ubigeo header h2").html(lang.generico.DISTRITO.toUpperCase())};this.publico.resetDepartamento= function(){$("#"+diccionario.tabs.UBIG+"gridUbigeo").html("");$("#"+diccionario.tabs.UBIG+"tollUbigeo button").hide();d=0;$("#widget_"+diccionario.tabs.UBIG+"ubigeo header h2").html(lang.generico.DISTRITO.toUpperCase())};this.publico.getDepartamento=function(a){simpleAjax.send({gifProcess:!0,root:"configuracion/ubigeo/getDepartamentos",data:"&_idPais="+a.idPais,fnCallback:function(b){simpleScript.listBox({data:b,optionSelec:!0,icon:!1,encript:!0,content:a.content,attr:{id:a.idElement,name:a.nameElement}, dataView:{etiqueta:"departamento",value:"id_departamento"},fnCallback:function(){simpleScript.setEvent.change({element:"#"+a.idElement,event:function(){ubigeo.getUbigeo({idDepartamento:$("#"+a.idElement).val(),content:a.contentUbigeo,idElement:a.idUbigeo,nameElement:a.idUbigeo})}});simpleScript.chosen({id:"#"+a.idElement})}})}})};this.publico.getUbigeo=function(a){simpleAjax.send({gifProcess:!0,root:"configuracion/ubigeo/getUbigeo",data:"&_idDepartamento="+a.idDepartamento,fnCallback:function(b){simpleScript.listBox({data:b, optionSelec:!0,icon:!1,encript:!0,content:a.content,attr:{id:a.idElement,name:a.nameElement},dataView:{etiqueta:"distrito",value:"id_ubigeo"}});simpleScript.chosen({id:"#"+a.idElement})}})};return this.publico},ubigeo=new ubigeo_;