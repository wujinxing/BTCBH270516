var mensajesPlantilla_=function(){var c,d;c=0;d="";this.publico={};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.PMSJ,label:$(a).attr("title"),fnCallback:function(){d=$(a).data("sitemap");mensajesPlantilla.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"configuracion/mensajesPlantilla/",data:"&_siteMap="+d,fnCallback:function(a){$("#"+diccionario.tabs.PMSJ+"_CONTAINER").html(a);mensajesPlantilla.getGridMensajes()}})};this.publico.getGridMensajes= function(){var a=$("#"+diccionario.tabs.PMSJ+"lst_idioma").val(),b=$("#"+diccionario.tabs.PMSJ+"gridMensajes").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"5%",sClass:"center",bSortable:!1},{sTitle:lang.generico.ASUNTO,sWidth:"35%"},{sTitle:lang.generico.ALIAS,sWidth:"15%"},{sTitle:lang.generico.IDIOMA,sWidth:"15%"},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center"}, {sTitle:lang.generico.ACCIONES,sWidth:"8%",sClass:"center",bSortable:!1}],aaSorting:[[2,"asc"]],sScrollY:"300px",sAjaxSource:"configuracion/mensajesPlantilla/getGridMensajes",fnServerParams:function(b){b.push({name:"_idIdioma",value:a})},fnDrawCallback:function(){$("#"+diccionario.tabs.PMSJ+"gridMensajes_filter").find("input").attr("placeholder",lang.busqueda.PMSJ).css("width","250px");simpleScript.enterSearch("#"+diccionario.tabs.PMSJ+"gridMensajes",b);simpleScript.removeAttr.click({container:"#widget_"+ diccionario.tabs.PMSJ,typeElement:"button"})}});setup_widgets_desktop()};this.publico.getFormNewMensajes=function(){simpleScript.addTab({id:diccionario.tabs.PMSJ+"new",label:lang.msjPlantilla.NEW,fnCallback:function(){simpleAjax.send({dataType:"html",root:"configuracion/mensajesPlantilla/getFormNewMensajes",fnCallback:function(a){$("#"+diccionario.tabs.PMSJ+"new_CONTAINER").html(a)}})}})};this.publico.getFormEditMensajes=function(a){c=a;simpleScript.addTab({id:diccionario.tabs.PMSJ+"edit",label:lang.msjPlantilla.EDIT, fnCallback:function(){simpleAjax.send({dataType:"html",root:"configuracion/mensajesPlantilla/getFormEditMensajes",data:"&_idMensajes="+c,fnCallback:function(a){$("#"+diccionario.tabs.PMSJ+"edit_CONTAINER").html(a)}})}})};this.publico.getFormClonarMensajes=function(a){c=a;simpleScript.addTab({id:diccionario.tabs.PMSJ+"clonar",label:lang.msjPlantilla.CLONAR,fnCallback:function(){simpleAjax.send({dataType:"html",root:"configuracion/mensajesPlantilla/getFormClonarMensajes",data:"&_idMensajes="+c,fnCallback:function(a){$("#"+ diccionario.tabs.PMSJ+"clonar_CONTAINER").html(a)}})}})};this.publico.postNewMensajes=function(){simpleAjax.send({element:"#"+diccionario.tabs.PMSJ+"btnGrMensajes",root:"configuracion/mensajesPlantilla/postNewMensajes",form:"#"+diccionario.tabs.PMSJ+"formNewMensajes",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:lang.mensajes.MSG_4}):simpleScript.notify.ok({content:lang.mensajes.MSG_3,callback:function(){simpleScript.closeTab(diccionario.tabs.PMSJ+ "new");simpleScript.reloadGrid("#"+diccionario.tabs.PMSJ+"gridMensajes")}})}})};this.publico.postEditMensajes=function(){simpleAjax.send({element:"#"+diccionario.tabs.PMSJ+"btnEdMensajes",root:"configuracion/mensajesPlantilla/postEditMensajes",form:"#"+diccionario.tabs.PMSJ+"formEditMensajes",data:"&_idMensajes="+c,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:lang.mensajes.MSG_4}):simpleScript.notify.ok({content:lang.mensajes.MSG_19, callback:function(){c=0;simpleScript.closeTab(diccionario.tabs.PMSJ+"edit");simpleScript.reloadGrid("#"+diccionario.tabs.PMSJ+"gridMensajes")}})}})};this.publico.postClonarMensajes=function(){simpleAjax.send({element:"#"+diccionario.tabs.PMSJ+"btnClMensajes",root:"configuracion/mensajesPlantilla/postNewMensajes",form:"#"+diccionario.tabs.PMSJ+"formClonarMensajes",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:lang.mensajes.MSG_4}): simpleScript.notify.ok({content:lang.mensajes.MSG_3,callback:function(){simpleScript.closeTab(diccionario.tabs.PMSJ+"clonar");simpleScript.reloadGrid("#"+diccionario.tabs.PMSJ+"gridMensajes")}})}})};this.publico.postDeleteMensajes=function(a,b){simpleScript.notify.confirm({content:lang.mensajes.MSG_5,callbackSI:function(){simpleAjax.send({element:a,gifProcess:!0,data:"&_idMensajes="+b,root:"configuracion/mensajesPlantilla/postDeleteMensajes",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)|| simpleScript.notify.ok({content:lang.mensajes.MSG_6,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.PMSJ+"gridMensajes")}})}})}})};this.publico.postDeleteMensajesAll=function(a){simpleScript.validaCheckBox({id:"#"+diccionario.tabs.PMSJ+"gridMensajes",msn:lang.mensajes.MSG_9,fnCallback:function(){simpleScript.notify.confirm({content:lang.mensajes.MSG_7,callbackSI:function(){simpleAjax.send({element:a,form:"#"+diccionario.tabs.PMSJ+"formGridMensajes",root:"configuracion/mensajesPlantilla/postDeleteMensajesAll", fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_8,callback:function(){mensajesPlantilla.getGridMensajes()}})}})}})}})};this.publico.postDesactivar=function(a,b){simpleAjax.send({element:a,root:"configuracion/mensajesPlantilla/postDesactivar",data:"&_idMensajes="+b,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_24,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.PMSJ+ "gridMensajes")}})}})};this.publico.postActivar=function(a,b){simpleAjax.send({element:a,root:"configuracion/mensajesPlantilla/postActivar",data:"&_idMensajes="+b,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_25,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.PMSJ+"gridMensajes")}})}})};return this.publico},mensajesPlantilla=new mensajesPlantilla_;