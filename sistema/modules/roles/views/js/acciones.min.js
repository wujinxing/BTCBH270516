var acciones_=function(){var c,b;c="";b=0;this.publico={};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.T2,label:$(a).attr("title"),fnCallback:function(){c=$(a).data("sitemap");acciones.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"roles/acciones/acciones",data:"&_siteMap="+c,fnCallback:function(a){$("#"+diccionario.tabs.T2+"_CONTAINER").html(a);acciones.getGridAcciones()}})};this.publico.getGridAcciones=function(){var a=$("#"+ diccionario.tabs.T2+"gridAcciones").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:"C\u00f3digo",sClass:"center",sWidth:"10%"},{sTitle:"Acci\u00f3n",sWidth:"25%"},{sTitle:"Dise\u00f1o",sWidth:"15%",sClass:"center",bSortable:!1},{sTitle:"Alias",sWidth:"10%"},{sTitle:"Estado",sWidth:"10%",sClass:"center",bSortable:!1},{sTitle:"Acciones",sWidth:"15%",sClass:"center",bSortable:!1}],aaSorting:[[0, "asc"]],sScrollY:"300px",sAjaxSource:"roles/acciones/getAcciones",fnDrawCallback:function(){$("#"+diccionario.tabs.T2+"gridAcciones_filter").find("input").attr("placeholder","Buscar por acci\u00f3n").css("width","250px");simpleScript.enterSearch("#"+diccionario.tabs.T2+"gridAcciones",a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.T2+"acciones",typeElement:"button"})}});setup_widgets_desktop()};this.publico.getFormNuevaAccion=function(a){var d="#"+diccionario.tabs.T2+"btnNew"; void 0!==a&&(d=a);simpleAjax.send({element:d,dataType:"html",root:"roles/acciones/getNuevaAccion",fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.T2+"formNuevaAccion").modal("show")}})};this.publico.getFormEditAccion=function(a){b=simpleScript.getParam(a);simpleAjax.send({dataType:"html",gifProcess:!0,data:"&_key="+b,root:"roles/acciones/getEditAccion",fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.T2+"formEditAccion").modal("show")}})};this.publico.postNewAccion= function(){simpleAjax.send({flag:1,element:"#"+diccionario.tabs.T2+"btnGrabaAccion",root:"roles/acciones/postAccion",form:"#"+diccionario.tabs.T2+"formNuevaAccion",clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)?isNaN(a.result)||3!==parseInt(a.result)||simpleScript.notify.error({content:lang.accion.VAL02}):simpleScript.notify.error({content:lang.accion.VAL01}):simpleScript.notify.ok({content:lang.mensajes.MSG_3,callback:function(){simpleScript.reloadGrid("#"+ diccionario.tabs.T2+"gridAcciones")}})}})};this.publico.postEditAccion=function(){simpleAjax.send({flag:2,element:"#"+diccionario.tabs.T2+"btnEditaAccion",root:"roles/acciones/postAccion",form:"#"+diccionario.tabs.T2+"formEditAccion",data:"&_key="+b,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)?isNaN(a.result)||3!==parseInt(a.result)||simpleScript.notify.error({content:lang.accion.VAL02}):simpleScript.notify.error({content:lang.accion.VAL01}): simpleScript.notify.ok({content:lang.mensajes.MSG_3,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.T2+"gridAcciones");simpleScript.closeModal("#"+diccionario.tabs.T2+"formEditAccion")}})}})};this.publico.postDeleteAccion=function(a){b=simpleScript.getParam(a);simpleScript.notify.confirm({content:lang.mensajes.MSG_5,callbackSI:function(){simpleAjax.send({flag:3,gifProcess:!0,data:"&_key="+b,root:"roles/acciones/postDeleteAccion",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)|| simpleScript.notify.ok({content:lang.mensajes.MSG_6,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.T2+"gridAcciones")}})}})}})};return this.publico},acciones=new acciones_;