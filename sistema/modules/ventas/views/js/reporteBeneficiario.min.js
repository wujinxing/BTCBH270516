var reporteBeneficiario_=function(){var b;b="";this.publico={};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.VRPT7,label:$(a).attr("title"),fnCallback:function(){b=$(a).data("sitemap");reporteBeneficiario.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"ventas/reporteBeneficiario/",data:"&_siteMap="+b,fnCallback:function(a){$("#"+diccionario.tabs.VRPT7+"_CONTAINER").html(a);reporteBeneficiario.getGridReporteBeneficiario()}})}; this.publico.getGridReporteBeneficiario=function(){$("#"+diccionario.tabs.VRPT7+"gridReporteBeneficiario").dataTable({bFilter:!1,sSearch:!1,bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:lang.generico.ID,sWidth:"10%",sClass:"center"},{sTitle:lang.generico.SUCURSAL,sWidth:"10%"},{sTitle:lang.generico.CONCEPTO,sWidth:"35%"},{sTitle:lang.generico.FECHA,sWidth:"10%",sClass:"center"},{sTitle:lang.generico.TOTAL, sWidth:"15%",sClass:"right"},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center"}],aaSorting:[[3,"desc"]],sScrollY:"300px",sAjaxSource:"ventas/reporteBeneficiario/getGridReporteBeneficiario",fnServerParams:function(a){a.push({name:"_fecha1",value:$("#"+diccionario.tabs.VRPT7+"txt_f1").val()});a.push({name:"_fecha2",value:$("#"+diccionario.tabs.VRPT7+"txt_f2").val()});a.push({name:"_idSucursalGrid",value:$("#"+diccionario.tabs.VRPT7+"lst_sucursalGrid").val()});a.push({name:"_idBeneficiario", value:$("#"+diccionario.tabs.VRPT7+"lst_beneficiario").val()})},fnDrawCallback:function(){simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.VRPT7,typeElement:"button"})}});setup_widgets_desktop()};this.publico.postPDFGeneral=function(){var a=$("#"+diccionario.tabs.VRPT7+"txt_f1").val(),b=$("#"+diccionario.tabs.VRPT7+"txt_f2").val(),c=$("#"+diccionario.tabs.VRPT7+"lst_sucursalGrid").val(),d=$("#"+diccionario.tabs.VRPT7+"lst_beneficiario").val();simpleAjax.send({gifProcess:!0,root:"ventas/reporteBeneficiario/postPDFGeneral", data:"&_idBeneficiario="+d+"&_fecha1="+a+"&_fecha2="+b+"&_idSucursalGrid="+c,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VRPT7+"btnDowPDF").off("click"),$("#"+diccionario.tabs.VRPT7+"btnDowPDF").attr("onclick","window.open('public/files/"+a.archivo+"','_blank');"),$("#"+diccionario.tabs.VRPT7+"btnDowPDF").click())}})};this.publico.postExcelGeneral=function(){var a=$("#"+diccionario.tabs.VRPT7+"txt_f1").val(),b=$("#"+diccionario.tabs.VRPT7+"txt_f2").val(),c=$("#"+diccionario.tabs.VRPT7+ "lst_sucursalGrid").val(),d=$("#"+diccionario.tabs.VRPT7+"lst_beneficiario").val();simpleAjax.send({gifProcess:!0,root:"ventas/reporteBeneficiario/postExcelGeneral",data:"&_idPersona="+d+"&_fecha1="+a+"&_fecha2="+b+"&_idSucursalGrid="+c,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VRPT7+"btnDowExcel").off("click"),$("#"+diccionario.tabs.VRPT7+"btnDowExcel").attr("onclick","window.open('public/files/"+a.archivo+"','_self');"),$("#"+diccionario.tabs.VRPT7+"btnDowExcel").click()); isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Ocurri\u00f3 un error al exportar Venta."})}})};return this.publico},reporteBeneficiario=new reporteBeneficiario_;