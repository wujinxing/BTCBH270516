var reporteResumenCliente_=function(){var b;b="";this.publico={};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.VRPT5,label:$(a).attr("title"),fnCallback:function(){b=$(a).data("sitemap");reporteResumenCliente.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"ventas/reporteResumenCliente/",data:"&_siteMap="+b,fnCallback:function(a){$("#"+diccionario.tabs.VRPT5+"_CONTAINER").html(a);reporteResumenCliente.getGridReporteResumenCliente()}})}; this.publico.getGridReporteResumenCliente=function(){var a=$("#"+diccionario.tabs.VRPT5+"gridReporteResumenCliente").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"1%",bSortable:!1},{sTitle:lang.generico.ID,sWidth:"10%"},{sTitle:lang.generico.CLIENTE,sWidth:"35%"},{sTitle:lang.generico.CIUDAD,sWidth:"20%"},{sTitle:lang.generico.NROVENTAS,sClass:"right",sWidth:"10%"}, {sTitle:lang.generico.ACCIONES,sWidth:"10%",sClass:"center",bSortable:!1}],aaSorting:[[1,"asc"]],sScrollY:"300px",sAjaxSource:"ventas/reporteResumenCliente/getGridReporteResumenCliente",fnServerParams:function(a){a.push({name:"_fecha1",value:$("#"+diccionario.tabs.VRPT5+"txt_f1").val()});a.push({name:"_fecha2",value:$("#"+diccionario.tabs.VRPT5+"txt_f2").val()});a.push({name:"_idSucursalGrid",value:$("#"+diccionario.tabs.VRPT5+"lst_sucursalGrid").val()})},fnDrawCallback:function(){$("#"+diccionario.tabs.VRPT5+ "gridReporteResumenCliente_filter").find("input").attr("placeholder",lang.busqueda.VRPT5).css("width","200px");simpleScript.enterSearch("#"+diccionario.tabs.VRPT5+"gridReporteResumenCliente",a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.VRPT5,typeElement:"button"})}});setup_widgets_desktop()};this.publico.postExcelGeneral=function(){var a=$("#"+diccionario.tabs.VRPT5+"txt_f1").val(),d=$("#"+diccionario.tabs.VRPT5+"txt_f2").val(),c=$("#"+diccionario.tabs.VRPT5+"lst_sucursalGrid").val(); simpleAjax.send({gifProcess:!0,root:"ventas/reporteResumenCliente/postExcelGeneral",data:"&_fecha1="+a+"&_fecha2="+d+"&_idSucursalGrid"+c,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VRPT5+"btnDowExcel").off("click"),$("#"+diccionario.tabs.VRPT5+"btnDowExcel").attr("onclick","window.open('public/files/"+a.archivo+"','_self');"),$("#"+diccionario.tabs.VRPT5+"btnDowExcel").click());isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Ocurri\u00f3 un error al exportar Venta."})}})}; this.publico.postPDF=function(a,d){var c=$("#"+diccionario.tabs.VRPT5+"txt_f1").val(),b=$("#"+diccionario.tabs.VRPT5+"txt_f2").val(),e=$("#"+diccionario.tabs.VRPT5+"lst_sucursalGrid").val();simpleAjax.send({element:a,root:"ventas/reporteResumenCliente/postPDF",data:"&_idPersona="+d+"&_fecha1="+c+"&_fecha2="+b+"&_idSucursalGrid"+e,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VRPT5+"btnDowPDF").off("click"),$("#"+diccionario.tabs.VRPT5+"btnDowPDF").attr("onclick","window.open('public/files/"+ a.archivo+"','_blank');"),$("#"+diccionario.tabs.VRPT5+"btnDowPDF").click())}})};this.publico.postExcel=function(a,b){var c=$("#"+diccionario.tabs.VRPT5+"txt_f1").val(),f=$("#"+diccionario.tabs.VRPT5+"txt_f2").val(),e=$("#"+diccionario.tabs.VRPT5+"lst_sucursalGrid").val();simpleAjax.send({element:a,root:"ventas/reporteResumenCliente/postExcel",data:"&_idPersona="+b+"&_fecha1="+c+"&_fecha2="+f+"&_idSucursalGrid"+e,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VRPT5+"btnDowExcel").off("click"), $("#"+diccionario.tabs.VRPT5+"btnDowExcel").attr("onclick","window.open('public/files/"+a.archivo+"','_self');"),$("#"+diccionario.tabs.VRPT5+"btnDowExcel").click());isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Ocurri\u00f3 un error al exportar Venta."})}})};return this.publico},reporteResumenCliente=new reporteResumenCliente_;