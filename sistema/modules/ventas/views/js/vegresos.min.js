var vegresos_=function(){var b,c;b=0;c="";this.publico={};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.VEGRE,label:$(a).attr("title"),fnCallback:function(){c=$(a).data("sitemap");vegresos.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"ventas/vegresos/",data:"&_siteMap="+c,fnCallback:function(a){$("#"+diccionario.tabs.VEGRE+"_CONTAINER").html(a);vegresos.getGridVegresos()}})};this.publico.getGridVegresos=function(){var a=$("#"+ diccionario.tabs.VEGRE+"gridVegresos").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:lang.generico.ID,sWidth:"10%",sClass:"center"},{sTitle:lang.generico.SUCURSAL,sWidth:"8%"},{sTitle:lang.generico.CONCEPTO,sWidth:"35%"},{sTitle:lang.generico.FECHA,sWidth:"10%",sClass:"center"},{sTitle:lang.generico.TOTAL,sWidth:"15%",sClass:"right"},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center"}, {sTitle:lang.generico.ACCIONES,sWidth:"10%",sClass:"center",bSortable:!1}],aaSorting:[[0,"desc"]],sScrollY:"350px",sAjaxSource:"ventas/vegresos/getGridVegresos",fnServerParams:function(a){a.push({name:"_fecha1",value:$("#"+diccionario.tabs.VEGRE+"txt_f1").val()});a.push({name:"_fecha2",value:$("#"+diccionario.tabs.VEGRE+"txt_f2").val()});a.push({name:"_idSucursalGrid",value:$("#"+diccionario.tabs.VEGRE+"lst_sucursalGrid").val()})},fnDrawCallback:function(){$("#"+diccionario.tabs.VEGRE+"gridVegresos_filter").find("input").attr("placeholder", "Buscar por Concepto").css("width","200px");simpleScript.enterSearch("#"+diccionario.tabs.VEGRE+"gridVegresos",a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.VEGRE,typeElement:"button"})}});setup_widgets_desktop()};this.publico.getFormNewVegresos=function(a){simpleAjax.send({element:a,dataType:"html",root:"ventas/vegresos/getFormNewVegresos",fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.VEGRE+"formNewVegresos").modal("show")}})};this.publico.getFormEditVegresos= function(a,d){b=d;simpleAjax.send({element:a,dataType:"html",root:"ventas/vegresos/getFormEditVegresos",data:"&_idVegresos="+b,fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.VEGRE+"formEditVegresos").modal("show")}})};this.publico.postNewVegresos=function(){simpleAjax.send({element:"#"+diccionario.tabs.VEGRE+"btnGrVegresos",root:"ventas/vegresos/postNewVegresos",form:"#"+diccionario.tabs.VEGRE+"formNewVegresos",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)? isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"No existe caja. Por favor revisar."}):(simpleScript.notify.ok({content:lang.mensajes.MSG_3}),simpleScript.reloadGrid("#"+diccionario.tabs.VEGRE+"gridVegresos"),$("#"+diccionario.tabs.VEGRE+"txt_descripcion").val(""),$("#"+diccionario.tabs.VEGRE+"txt_monto").val(""),$("#"+diccionario.tabs.VEGRE+"lst_beneficiario").select2("val",""))}})};this.publico.postEditVegresos=function(){simpleAjax.send({element:"#"+diccionario.tabs.VEGRE+ "btnEdVegresos",root:"ventas/vegresos/postEditVegresos",form:"#"+diccionario.tabs.VEGRE+"formEditVegresos",data:"&_idVegresos="+b,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_19,callback:function(){b=0;simpleScript.closeModal("#"+diccionario.tabs.VEGRE+"formEditVegresos");simpleScript.reloadGrid("#"+diccionario.tabs.VEGRE+"gridVegresos")}})}})};this.publico.postDeleteVegresos=function(a,b){simpleScript.notify.confirm({content:lang.mensajes.MSG_13, callbackSI:function(){simpleAjax.send({element:a,data:"&_idVegresos="+b,root:"ventas/vegresos/postDeleteVegresos",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_17,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.VEGRE+"gridVegresos")}})}})}})};this.publico.getBeneficiario=function(a){simpleAjax.send({gifProcess:!0,root:"ventas/vegresos/getFindDataBeneficiarioAllCombo",data:"&_idSucursalCombo="+a.idSucursal,fnCallback:function(b){simpleScript.listBox({data:b, optionSelec:!0,icon:!1,content:a.content,encript:!0,attr:{id:a.idElement,name:a.nameElement},dataView:{etiqueta:"persona",value:"id_persona",group:"tipo"}});simpleScript.chosen({id:"#"+a.idElement})}})};return this.publico},vegresos=new vegresos_;