var vConsultaSaldo_=function(){this.publico={};this.publico.main=function(b){simpleScript.addTab({id:diccionario.tabs.VCSCL,label:$(b).attr("title"),fnCallback:function(){vConsultaSaldo.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"ventas/vConsultaSaldo/",fnCallback:function(b){$("#"+diccionario.tabs.VCSCL+"_CONTAINER").html(b);vConsultaSaldo.getGridVConsultaSaldo()}})};this.publico.getGridVConsultaSaldo=function(){$("#"+diccionario.tabs.VCSCL+"txt_f1").val(); $("#"+diccionario.tabs.VCSCL+"txt_f2").val();var b=$("#"+diccionario.tabs.VCSCL+"gridVConsultaSaldo").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"5%"},{sTitle:lang.generico.CLIENTE,sWidth:"40%"},{sTitle:lang.generico.SUCURSAL,sWidth:"20%"},{sTitle:lang.generico.SALDO,sWidth:"15%",sClass:"right"},{sTitle:lang.generico.ACCIONES,sWidth:"10%",sClass:"center",bSortable:!1}], aaSorting:[[3,"desc"]],sScrollY:"300px",sAjaxSource:"ventas/vConsultaSaldo/getGridVConsultaSaldo",fnServerParams:function(a){a.push({name:"_idSucursalGrid",value:$("#"+diccionario.tabs.VCSCL+"lst_sucursalGrid").val()})},fnDrawCallback:function(){$("#"+diccionario.tabs.VCSCL+"gridVConsultaSaldo_filter").find("input").attr("placeholder","Buscar por Cliente").css("width","200px");simpleScript.enterSearch("#"+diccionario.tabs.VCSCL+"gridVConsultaSaldo",b);simpleScript.removeAttr.click({container:"#widget_"+ diccionario.tabs.VCSCL,typeElement:"button"})}});setup_widgets_desktop()};this.publico.postPDFGeneral=function(){var b=$("#"+diccionario.tabs.VCSCL+"lst_sucursalGrid").val();simpleAjax.send({gifProcess:!0,root:"ventas/vConsultaSaldo/postPDFGeneral",data:"&_idSucursalGrid="+b,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VCSCL+"btnDowPDF").off("click"),$("#"+diccionario.tabs.VCSCL+"btnDowPDF").attr("onclick","window.open('public/files/"+a.archivo+"','_blank');"),$("#"+diccionario.tabs.VCSCL+ "btnDowPDF").click());isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Ocurri\u00f3 un error al exportar Venta."})}})};this.publico.postExcelGeneral=function(){var b=$("#"+diccionario.tabs.VCSCL+"lst_sucursalGrid").val();simpleAjax.send({gifProcess:!0,root:"ventas/vConsultaSaldo/postExcelGeneral",data:"&_idSucursalGrid="+b,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VCSCL+"btnDowExcel").off("click"),$("#"+diccionario.tabs.VCSCL+"btnDowExcel").attr("onclick", "window.open('public/files/"+a.archivo+"','_self');"),$("#"+diccionario.tabs.VCSCL+"btnDowExcel").click());isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Ocurri\u00f3 un error al exportar Venta."})}})};this.publico.postPDF=function(b,a){var c=$("#"+diccionario.tabs.VCSCL+"lst_sucursalGrid").val();simpleAjax.send({element:b,root:"ventas/vConsultaSaldo/postPDF",data:"&_idPersona="+a+"&_idSucursalGrid="+c,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VCSCL+ "btnDowPDF").off("click"),$("#"+diccionario.tabs.VCSCL+"btnDowPDF").attr("onclick","window.open('public/files/"+a.archivo+"','_blank');"),$("#"+diccionario.tabs.VCSCL+"btnDowPDF").click())}})};this.publico.postExcel=function(b,a){var c=$("#"+diccionario.tabs.VCSCL+"lst_sucursalGrid").val();simpleAjax.send({element:b,root:"ventas/vConsultaSaldo/postExcel",data:"&_idPersona="+a+"&_idSucursalGrid="+c,fnCallback:function(a){1===parseInt(a.result)&&($("#"+diccionario.tabs.VCSCL+"btnDowExcel").off("click"), $("#"+diccionario.tabs.VCSCL+"btnDowExcel").attr("onclick","window.open('public/files/"+a.archivo+"','_self');"),$("#"+diccionario.tabs.VCSCL+"btnDowExcel").click());isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Ocurri\u00f3 un error al exportar Venta."})}})};return this.publico},vConsultaSaldo=new vConsultaSaldo_;