var vunidadMedida_=function(){var c,e,d;c=0;e="";d=null;this.publico={};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.VUNID,label:$(a).attr("title"),fnCallback:function(){e=$(a).data("sitemap");vunidadMedida.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"ventas/vunidadMedida/",data:"&_siteMap="+e,fnCallback:function(a){$("#"+diccionario.tabs.VUNID+"_CONTAINER").html(a);vunidadMedida.getGridVunidadMedida()}})};this.publico.getGridVunidadMedida= function(){var a=$("#"+diccionario.tabs.VUNID+"gridVunidadMedida").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"5%",sClass:"center"},{sTitle:lang.generico.DESCRIPCION,sWidth:"45%"},{sTitle:lang.generico.SIGLA,sWidth:"10%"},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center",bSortable:!1},{sTitle:lang.generico.ACCIONES,sWidth:"8%",sClass:"center",bSortable:!1}], aaSorting:[[1,"asc"]],sScrollY:"300px",sAjaxSource:"ventas/vunidadMedida/getGridVunidadMedida",fnDrawCallback:function(){$("#"+diccionario.tabs.VUNID+"gridVunidadMedida_filter").find("input").attr("placeholder",lang.busqueda.VUNID).css("width","350px");simpleScript.enterSearch("#"+diccionario.tabs.VUNID+"gridVunidadMedida",a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.VUNID,typeElement:"button"})}});setup_widgets_desktop()};this.publico.getFormNewVunidadMedida=function(a, b){d=b;simpleAjax.send({element:a,dataType:"html",root:"ventas/vunidadMedida/getFormNewVunidadMedida",fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.VUNID+"formNewVunidadMedida").modal("show")}})};this.publico.getFormEditVunidadMedida=function(a,b){c=b;simpleAjax.send({element:a,dataType:"html",root:"ventas/vunidadMedida/getFormEditVunidadMedida",data:"&_idVunidadMedida="+c,fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.VUNID+"formEditVunidadMedida").modal("show")}})}; this.publico.getAddListUnidadMedida=function(){simpleAjax.send({root:"ventas/vunidadMedida/getAddListUnidadMedida ",fnCallback:function(a){simpleScript.closeModal("#"+diccionario.tabs.VUNID+"formNewVunidadMedida");$(d).append('<option value="'+a.id_unidadmedida+'">'+a.nombre+"</option>");d=null}})};this.publico.postNewVunidadMedida=function(){simpleAjax.send({element:"#"+diccionario.tabs.VUNID+"btnGrVunidadMedida",root:"ventas/vunidadMedida/postNewVunidadMedida",form:"#"+diccionario.tabs.VUNID+"formNewVunidadMedida", clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Unidad Medida ya existe."}):simpleScript.notify.ok({content:lang.mensajes.MSG_3,callback:function(){0<d.length&&vunidadMedida.getAddListUnidadMedida();0<$("#"+diccionario.tabs.VUNID+"_CONTAINER").length&&vunidadMedida.getGridVunidadMedida()}})}})};this.publico.postEditVunidadMedida=function(){simpleAjax.send({element:"#"+diccionario.tabs.VUNID+"btnEdVunidadMedida", root:"ventas/vunidadMedida/postEditVunidadMedida",form:"#"+diccionario.tabs.VUNID+"formEditVunidadMedida",data:"&_idVunidadMedida="+c,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Unidad Medida ya existe."}):simpleScript.notify.ok({content:lang.mensajes.MSG_19,callback:function(){c=0;simpleScript.closeModal("#"+diccionario.tabs.VUNID+"formEditVunidadMedida");simpleScript.reloadGrid("#"+diccionario.tabs.VUNID+ "gridVunidadMedida")}})}})};this.publico.postDeleteVunidadMedida=function(a,b){simpleScript.notify.confirm({content:lang.mensajes.MSG_5,callbackSI:function(){simpleAjax.send({element:a,gifProcess:!0,data:"&_idVunidadMedida="+b,root:"ventas/vunidadMedida/postDeleteVunidadMedida",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_6,callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.VUNID+"gridVunidadMedida")}})}})}})};this.publico.postDesactivar= function(a,b){simpleAjax.send({element:a,root:"ventas/vunidadMedida/postDesactivar",data:"&_idVunidadMedida="+b,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:"Unidad de Medida se desactivo correctamente",callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.VUNID+"gridVunidadMedida")}})}})};this.publico.postActivar=function(a,b){simpleAjax.send({element:a,root:"ventas/vunidadMedida/postActivar",data:"&_idVunidadMedida="+b,clear:!0, fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:"Unidad de Medida se activo correctamente",callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.VUNID+"gridVunidadMedida")}})}})};return this.publico},vunidadMedida=new vunidadMedida_;