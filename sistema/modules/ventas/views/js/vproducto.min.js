var vproducto_=function(){var c,d;c=0;d="";this.publico={};this.publico.main=function(a){simpleScript.addTab({id:diccionario.tabs.VPROD,label:$(a).attr("title"),fnCallback:function(){d=$(a).data("sitemap");vproducto.getContenido()}})};this.publico.getContenido=function(){simpleAjax.send({dataType:"html",root:"ventas/vproducto/",data:"&_siteMap="+d,fnCallback:function(a){$("#"+diccionario.tabs.VPROD+"_CONTAINER").html(a);vproducto.getGridVproducto()}})};this.publico.getGridVproducto=function(){var a= $("#"+diccionario.tabs.VPROD+"gridVproducto").dataTable({bProcessing:!0,bServerSide:!0,bDestroy:!0,sPaginationType:"bootstrap_full",sServerMethod:"POST",bPaginate:!0,iDisplayLength:10,aoColumns:[{sTitle:lang.generico.NRO,sWidth:"5%",sClass:"center"},{sTitle:lang.generico.DESCRIPCION,sWidth:"45%"},{sTitle:lang.generico.UM,sWidth:"20%"},{sTitle:lang.generico.PRECIO,sWidth:"15%",sClass:"right"},{sTitle:lang.generico.ESTADO,sWidth:"10%",sClass:"center"},{sTitle:lang.generico.ACCIONES,sWidth:"8%",sClass:"center", bSortable:!1}],aaSorting:[[1,"asc"]],sScrollY:"300px",sAjaxSource:"ventas/vproducto/getGridVproducto",fnDrawCallback:function(){$("#"+diccionario.tabs.VPROD+"gridVproducto_filter").find("input").attr("placeholder",lang.busqueda.VPROD).css("width","350px");simpleScript.enterSearch("#"+diccionario.tabs.VPROD+"gridVproducto",a);simpleScript.removeAttr.click({container:"#widget_"+diccionario.tabs.VPROD,typeElement:"button"})}});setup_widgets_desktop()};this.publico.getFormNewVproducto=function(a){simpleAjax.send({element:a, dataType:"html",root:"ventas/vproducto/getFormNewVproducto",fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.VPROD+"formNewVproducto").modal("show")}})};this.publico.getFormEditVproducto=function(a,b){c=b;simpleAjax.send({element:a,dataType:"html",root:"ventas/vproducto/getFormEditVproducto",data:"&_idVproducto="+c,fnCallback:function(a){$("#cont-modal").append(a);$("#"+diccionario.tabs.VPROD+"formEditVproducto").modal("show")}})};this.publico.postNewVproducto=function(){simpleAjax.send({element:"#"+ diccionario.tabs.VPROD+"btnGrVproducto",root:"ventas/vproducto/postNewVproducto",form:"#"+diccionario.tabs.VPROD+"formNewVproducto",clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Producto ya existe."}):simpleScript.notify.ok({content:lang.mensajes.MSG_3,callback:function(){vproducto.getGridVproducto();c=0;setTimeout(function(){$("#"+diccionario.tabs.VPROD+"lst_unidadMedida").val("")},100)}})}})}; this.publico.postEditVproducto=function(){simpleAjax.send({element:"#"+diccionario.tabs.VPROD+"btnEdVproducto",root:"ventas/vproducto/postEditVproducto",form:"#"+diccionario.tabs.VPROD+"formEditVproducto",data:"&_idVproducto="+c,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)?isNaN(a.result)||2!==parseInt(a.result)||simpleScript.notify.error({content:"Producto ya existe."}):simpleScript.notify.ok({content:lang.mensajes.MSG_19,callback:function(){c=0;simpleScript.closeModal("#"+ diccionario.tabs.VPROD+"formEditVproducto");simpleScript.reloadGrid("#"+diccionario.tabs.VPROD+"gridVproducto")}})}})};this.publico.postDeleteVproducto=function(a,b){simpleScript.notify.confirm({content:lang.mensajes.MSG_7,callbackSI:function(){simpleAjax.send({flag:3,element:a,form:"#"+diccionario.tabs.VPROD+"formGridVproducto",data:"&_idVproducto="+b,root:"ventas/vproducto/postDeleteVproducto",fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:lang.mensajes.MSG_8, callback:function(){vproducto.getGridVproducto()}})}})}})};this.publico.postDesactivar=function(a,b){simpleAjax.send({element:a,root:"ventas/vproducto/postDesactivar",data:"&_idVproducto="+b,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:"Producto se desactivo correctamente",callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.VPROD+"gridVproducto")}})}})};this.publico.postActivar=function(a,b){simpleAjax.send({element:a,root:"ventas/vproducto/postActivar", data:"&_idVproducto="+b,clear:!0,fnCallback:function(a){isNaN(a.result)||1!==parseInt(a.result)||simpleScript.notify.ok({content:"Producto se activo correctamente",callback:function(){simpleScript.reloadGrid("#"+diccionario.tabs.VPROD+"gridVproducto")}})}})};return this.publico},vproducto=new vproducto_;